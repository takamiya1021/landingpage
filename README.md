# Vibe Preview

複数のWebサイトを同時にプレビュー・比較できる効率的な開発ツール

## 🌟 概要

Vibe Previewは、複数のWebサイトやWebアプリケーションを一つの画面で同時に確認できるマルチビューアーです。開発環境と本番環境の切り替え、モバイル/デスクトップビューの表示切り替えなど、Web開発における効率的なプレビュー機能を提供します。

## ✨ 主な特徴

### 🔄 マルチサイト同時プレビュー
- 横スクロール可能なスマートビューで複数サイトを一覧表示
- 各サイトを個別のフルスクリーンビューで確認可能
- サイト間の比較が容易

### 📱 デバイス切り替え
- **モバイルビュー**: 380x675px（最新スマートフォンサイズ）をリアルなデバイスフレーム内に表示
- **デスクトップビュー**: 1440x1080px（標準的なデスクトップ）をブラウザフレーム内に表示
- **両方表示モード**: モバイルとデスクトップを同時に表示
- ワンクリックで全サイトの表示を同時切り替え

### 🌐 環境切り替え
- **ローカル環境**: 開発中のローカルファイルを表示
- **グローバル環境**: 本番環境のURLを表示
- 各プレビューカードで個別に環境を切り替え可能

### 🎯 効率的なワークフロー
- 複数プロジェクトの進捗を一目で確認
- デザインの一貫性チェック
- クライアントへのプレゼンテーション
- リアルタイムでのアプリ更新確認

## 🚀 使い方

### 基本操作

1. **サイドバーナビゲーション**: 左側のメニューから表示したいサイトを選択
   - "All Sites" - すべてのサイトを一覧表示
   - 個別サイト名 - 特定のサイトのみ表示

2. **デバイス切り替え**: 上部のトグルボタンでモバイル/デスクトップ/両方を選択
   - 📱 モバイルビュー
   - 💻 デスクトップビュー
   - 📱💻 両方表示

3. **環境切り替え**: 各プレビューカードの右上でLocal/Globalを切り替え
   - 🏠 Local - ローカル開発環境
   - 🌐 Global - 本番環境

4. **外部リンク**: 右上のアイコンで実際のサイトを新しいタブで開く

### セットアップ

```bash
# プロジェクトディレクトリへ移動
cd products/vibe-preview

# 初期セットアップ
make setup

# 開発サーバーの起動（バックグラウンド）
make start

# 開発サーバーの停止
make stop

# 開発サーバーの起動（フォアグラウンド、デバッグ用）
make dev
```

## 🔧 カスタマイズ

### 新しいサイトの追加

`app/list.js`ファイルを編集して新しいサイトを追加できます：

```javascript
const productsData = {
    products: [
        {
            id: 'site-id',           // ユニークなID（kebab-case推奨）
            title: 'サイト名',        // 表示名
            url: {
                local: './games/site-name',     // ローカルパス（app/内の相対パス）
                global: 'https://site.com'      // 本番URL
            },
            public: true             // 表示/非表示の制御
        }
    ]
};
```

### URL設定のパターン

1. **両方のURLがある場合**: Local/Globalトグルが表示されます
2. **ローカルURLのみ**: 常にローカル環境を表示
3. **グローバルURLのみ**: 常に本番環境を表示
4. **publicがfalse**: サイトは非表示になります

### 設定ガイド

サイドバー下部の「設定ガイド」ボタンから、アプリケーションの詳細な使用方法を確認できます。

## 📋 技術仕様

### 使用技術
- **HTML5**: セマンティックなマークアップ構造
- **CSS3**: CSS Custom Properties、Flexbox、Grid、アニメーション
- **Vanilla JavaScript**: フレームワーク非依存の軽量実装
- **レスポンシブデザイン**: モバイルファーストアプローチ

### デザイン原則
- **ダークテーマ**: 目に優しい暗色系のカラースキーム
- **パフォーマンス重視**: 軽量で高速な動作を実現
- **アクセシビリティ**: セマンティックHTMLとARIA属性の適切な使用

### セキュリティ
- Content Security Policy (CSP) の実装
- iframe sandbox属性による安全な外部コンテンツ表示

## 🛠️ プロジェクト構造

```
vibe-preview/
├── app/                    # アプリケーションディレクトリ
│   ├── index.html         # メインアプリケーション
│   ├── list.js            # サイトリスト設定ファイル
│   ├── styles.css         # スタイルシート
│   └── games/             # ゲームアプリケーション
│       ├── block-away/    # Block Awayゲーム
│       ├── color-block/   # Color Blockゲーム
│       └── cube-away/     # Cube Awayゲーム
├── deploy.conf            # デプロイ設定
├── Makefile               # プロジェクトコマンド
└── README.md              # このファイル
```

## 📋 動作環境

- Chrome/Edge（推奨）
- Firefox
- Safari
- モバイルブラウザ（iOS Safari、Chrome for Android）

## 💡 Tips

### パフォーマンス最適化
- 同時に表示するサイト数が多い場合は、必要なものだけ `public: true` に設定
- 重いサイトは個別のフルビューで確認することを推奨
- iframeの遅延読み込みにより初期表示を高速化

### トラブルシューティング

#### iframeが表示されない場合
- CORSポリシーによりブロックされている可能性があります
- ローカルサーバー経由でアクセスしてください

#### レイアウトが崩れる場合
- ブラウザのキャッシュをクリア
- 最新のブラウザバージョンを使用

## 🎮 デフォルトで登録されているサイト

- **Block Away** - 3Dブロックを矢印に沿って移動させて消去するパズルゲーム
- **Color Block Jam 3D** - 3D空間でカラーブロックを操作するパズルゲーム
- **Cube Away** - キューブを操作する3Dパズルゲーム

## 🚀 今後の開発予定

- [ ] ブックマーク機能
- [ ] カスタムレイアウト保存
- [ ] スクリーンショット機能
- [ ] サイト間の同期スクロール
- [ ] リロード機能の追加
- [ ] URLパラメータによる初期表示制御

## 📋 Makeコマンド一覧

### 基本コマンド
- `make` または `make help` - コマンド一覧を表示
- `make setup` - 初期セットアップ
- `make start` - 開発サーバーをバックグラウンドで起動
- `make stop` - 開発サーバーを停止
- `make dev` - 開発サーバーをフォアグラウンドで起動（デバッグ用）
- `make deploy` - プロジェクトをデプロイ（自動同期付き）
- `make clean` - ビルドファイルを削除

## 🚀 デプロイメント

### Firebase Hostingへのデプロイ

```bash
# 本番環境へデプロイ
make deploy

# デプロイ設定の確認
make check-config
```

### 環境設定

`deploy.conf`でデプロイ設定を管理：
- Firebase Project ID
- Firebase Site名
- デプロイプロバイダー設定

## 📄 ライセンス

このプロジェクトはVibe Projectsの一部として開発されています。

## 🤝 貢献

プルリクエストを歓迎します。大きな変更を行う場合は、まずイシューを作成して変更内容について議論してください。

---

**注意**: このツールは開発支援を目的としており、実際のWebサイトの表示にはそれぞれのサイトのCORSポリシーやセキュリティ設定が影響する場合があります。